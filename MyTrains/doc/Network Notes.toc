\contentsline {chapter}{\numberline {1}Network Protocol}{1}{chapter.1}
\contentsline {section}{\numberline {1.1}Overview}{1}{section.1.1}
\contentsline {section}{\numberline {1.2}Message Format}{2}{section.1.2}
\contentsline {section}{\numberline {1.3}Refresh Slots}{3}{section.1.3}
\contentsline {section}{\numberline {1.4}Standard Address Selection}{3}{section.1.4}
\contentsline {section}{\numberline {1.5}Messages}{4}{section.1.5}
\contentsline {subsection}{\numberline {1.5.1}Acknowledgement}{5}{subsection.1.5.1}
\contentsline {subsection}{\numberline {1.5.2}OPC\_BRD\_OPSW}{7}{subsection.1.5.2}
\contentsline {subsection}{\numberline {1.5.3}Busy}{9}{subsection.1.5.3}
\contentsline {subsection}{\numberline {1.5.4}OPC\_CONSIST\_FUNC}{10}{subsection.1.5.4}
\contentsline {subsection}{\numberline {1.5.5}OPC\_LOCO\_FN\_EXT}{11}{subsection.1.5.5}
\contentsline {subsection}{\numberline {1.5.6}GetLocoSlotDataLAdrV1}{13}{subsection.1.5.6}
\contentsline {subsection}{\numberline {1.5.7}GetLocoSlotDataLAdrV2}{15}{subsection.1.5.7}
\contentsline {subsection}{\numberline {1.5.8}GetLocoSlotDataSAdrV1}{17}{subsection.1.5.8}
\contentsline {subsection}{\numberline {1.5.9}GetLocoSlotDataSAdrV2}{19}{subsection.1.5.9}
\contentsline {subsection}{\numberline {1.5.10}OPC\_IMM\_PACKET}{21}{subsection.1.5.10}
\contentsline {subsection}{\numberline {1.5.11}OPC\_INPUT\_REP}{23}{subsection.1.5.11}
\contentsline {subsection}{\numberline {1.5.12}OPC\_LINK\_SLOTS}{25}{subsection.1.5.12}
\contentsline {subsection}{\numberline {1.5.13}LocoDirF0F4V1}{26}{subsection.1.5.13}
\contentsline {subsection}{\numberline {1.5.14}LocoDirF0F4V2}{28}{subsection.1.5.14}
\contentsline {subsection}{\numberline {1.5.15}LocoF5F8V1}{30}{subsection.1.5.15}
\contentsline {subsection}{\numberline {1.5.16}LocoF5F11V2}{32}{subsection.1.5.16}
\contentsline {subsection}{\numberline {1.5.17}LocoF13F19V2}{34}{subsection.1.5.17}
\contentsline {subsection}{\numberline {1.5.18}LocoF21F27V2}{36}{subsection.1.5.18}
\contentsline {subsection}{\numberline {1.5.19}LocoF12F20F28V2}{38}{subsection.1.5.19}
\contentsline {subsection}{\numberline {1.5.20}LocoSlotDataV1}{40}{subsection.1.5.20}
\contentsline {subsection}{\numberline {1.5.21}LocoSlotDataV2}{45}{subsection.1.5.21}
\contentsline {subsection}{\numberline {1.5.22}LocoSpdV1}{51}{subsection.1.5.22}
\contentsline {subsection}{\numberline {1.5.23}LocoSpdV2}{53}{subsection.1.5.23}
\contentsline {subsection}{\numberline {1.5.24}MoveSlotsV1}{55}{subsection.1.5.24}
\contentsline {subsection}{\numberline {1.5.25}MoveSlotsV2}{57}{subsection.1.5.25}
\contentsline {subsection}{\numberline {1.5.26}OPC\_PEER\_XFER}{59}{subsection.1.5.26}
\contentsline {subsection}{\numberline {1.5.27}OPC\_PEER\_XFER\_20}{63}{subsection.1.5.27}
\contentsline {subsection}{\numberline {1.5.28}PwrOff}{68}{subsection.1.5.28}
\contentsline {subsection}{\numberline {1.5.29}PwrOn}{69}{subsection.1.5.29}
\contentsline {subsection}{\numberline {1.5.30}ReadCfgSlotData}{71}{subsection.1.5.30}
\contentsline {subsection}{\numberline {1.5.31}ReadInterfaceStatus}{78}{subsection.1.5.31}
\contentsline {subsection}{\numberline {1.5.32}ReqInterfaceStatus}{80}{subsection.1.5.32}
\contentsline {subsection}{\numberline {1.5.33}Reset}{81}{subsection.1.5.33}
\contentsline {subsection}{\numberline {1.5.34}OPC\_RQ\_SL\_DATA}{82}{subsection.1.5.34}
\contentsline {subsection}{\numberline {1.5.35}SetIdleState}{83}{subsection.1.5.35}
\contentsline {subsection}{\numberline {1.5.36}OPC\_SLOT\_STAT1}{84}{subsection.1.5.36}
\contentsline {subsection}{\numberline {1.5.37}OPC\_SV\_PROG}{85}{subsection.1.5.37}
\contentsline {subsection}{\numberline {1.5.38}OPC\_SW\_ACK}{90}{subsection.1.5.38}
\contentsline {subsection}{\numberline {1.5.39}OPC\_SW\_REP}{92}{subsection.1.5.39}
\contentsline {subsection}{\numberline {1.5.40}OPC\_SW\_REQ}{94}{subsection.1.5.40}
\contentsline {subsection}{\numberline {1.5.41}OPC\_SW\_STATE}{96}{subsection.1.5.41}
\contentsline {subsection}{\numberline {1.5.42}OPC\_TRANS\_REP}{97}{subsection.1.5.42}
\contentsline {subsection}{\numberline {1.5.43}OPC\_UNLINK\_SLOTS}{98}{subsection.1.5.43}
\contentsline {subsection}{\numberline {1.5.44}OPC\_WR\_SL\_DATA\_EXT}{99}{subsection.1.5.44}
\contentsline {subsection}{\numberline {1.5.45}WriteStdSlotData}{100}{subsection.1.5.45}
\contentsline {chapter}{\numberline {2}Fast Clock}{107}{chapter.2}
\contentsline {section}{\numberline {2.1}Summary}{107}{section.2.1}
\contentsline {section}{\numberline {2.2}Slot \#123 Encoding}{107}{section.2.2}
\contentsline {chapter}{\numberline {3}Updating Firmware}{111}{chapter.3}
\contentsline {section}{\numberline {3.1}Bootloader Protocol 1}{111}{section.3.1}
\contentsline {section}{\numberline {3.2}Bootloader Protocol 2}{111}{section.3.2}
\contentsline {subsection}{\numberline {3.2.1}IPL Setup}{111}{subsection.3.2.1}
\contentsline {subsection}{\numberline {3.2.2}IPL Address Message}{113}{subsection.3.2.2}
\contentsline {subsection}{\numberline {3.2.3}IPL Data Message}{114}{subsection.3.2.3}
\contentsline {subsection}{\numberline {3.2.4}IPL End Operation Message}{116}{subsection.3.2.4}
\contentsline {section}{\numberline {3.3}Firmware Parameters}{118}{section.3.3}
\contentsline {section}{\numberline {3.4}DMF File Format}{119}{section.3.4}
\contentsline {subsection}{\numberline {3.4.1}Sync Records}{119}{subsection.3.4.1}
\contentsline {subsection}{\numberline {3.4.2}Parameter Records}{119}{subsection.3.4.2}
\contentsline {subsection}{\numberline {3.4.3}Data Records}{121}{subsection.3.4.3}
\contentsline {subsection}{\numberline {3.4.4}End of File Record}{122}{subsection.3.4.4}
\contentsline {chapter}{\numberline {A}Reference Tables}{125}{appendix.A}
