
\newpage
\section{ProgSlotDataP1}\index{ProgSlotDataP1}\index{Configuration Variables}\index{Programming}

\rule{15.1cm}{0.4pt}

\underline{Description:}

This \gls{Response} provides data for the programming slot.

\underline{Group:}

Variable-Byte Message

\underline{Opcode:}

OPC\_SL\_RD\_DATA

\underline{Type:}

\gls{Response}

\underline{Encoding:} 

Byte 0:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
1 & 1 & 1 & 0 & 0 & 1 & 1 & 1\\
\hline
\end{tabular}
& 0xE7 & Opcode.\\
\end{tabular}

Byte 1:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 0 & 0 & 1 & 1 & 1 & 0\\
\hline
\end{tabular}
& 0x0E & Message length.\\
\end{tabular}

Byte 2:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 1 & 1 & 1 & 1 & 1 & 0 & 0\\
\hline
\end{tabular}
& 0x7C & Programming slot number.\\
\end{tabular}

Byte 3:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & d6 & d5 & d4 & d3 & d2 & d1 & d0\\
\hline
\end{tabular}
& $<$PCMD$>$ & Last programming command.\\
\end{tabular}

\begin{tabular}{l l}
d6 & 0 means read and 1 means write\\
d5 & 1 means byte mode and 0 means bit mode\\
d4 & TY1\\
d3 & TY0\\
d2 & 0 means service mode on programming track, 1 means operations mode on mainline.\\
d1 & 1 - unknown\\
d0 & 1 - unknown\\
\end{tabular}

\begin{tabular}{p{0.05\linewidth}p{0.05\linewidth}p{0.05\linewidth}p{0.05\linewidth}p{0.05\linewidth}p{0.05\linewidth}p{0.51\linewidth}}
\underline{d5} & \underline{d4} & \underline{d3} & \underline{d2} & \underline{d1} & \underline{d0} & \underline{Programming Mode}\\
1 & 0 & 0 & 0 & $\times$ & $\times$ & \gls{Paged Mode} byte read/write on the \gls{Programming Track}\\
1 & 0 & 0 & 1 & $\times$ & $\times$ &  \gls{Direct Mode} byte read/write on the \gls{Programming Track}\\
0 & 0 & 0 & 1 & $\times$ & $\times$ &  \gls{Direct Mode} bit read/write on the \gls{Programming Track}\\
$\times$ & 0 & 1 & 0 & $\times$ & $\times$ &  \gls{Physical Register Mode} byte read/write on the \gls{Programming Track}\\
$\times$ & 0 & 1 & 1 & $\times$ & $\times$ &  Service track reserved function\\
1 &  0 & 0 & 1 & $\times$ & $\times$ &  \gls{Operations Mode} byte program no feedback\\
1 &  0 & 1 & 1 & $\times$ & $\times$ &  \gls{Operations Mode} byte program with feedback\\
0 &  0 & 0 & 1 & $\times$ & $\times$ &  \gls{Operations Mode} bit program no feedback\\
0 &  0 & 1 & 1 & $\times$ & $\times$ &  \gls{Operations Mode} bit program with feedback\\
\end{tabular}

Byte 4:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 0 & 0 & d3 & d2 & d1 & d0\\
\hline
\end{tabular}
& $<$PSTAT$>$ & \\
\end{tabular}

\begin{tabular}{l l}
d3 & 1 means user aborted the previous command\\
d2 & 1 means failed to detect read compare acknowledge from decoder\\
d1 & 1 means no write acknowledge response from decoder\\
d0 & 1 means service mode programming track is empty - no decoder detected\\
\end{tabular}

Byte 5:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$HOPSA$>$ & In \gls{Operations Mode} programming this contains the 7 high address bits of the locomotive to program. 0x00 if service mode.\\
\end{tabular}

Byte 6:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$LOPSA$>$ & In \gls{Operations Mode} programming this contains the 7 low address bits of the locomotive to program. 0x00 if service mode.\\
\end{tabular}

Byte 7:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & d6 & 0 & 0 & d3 & d2 & d1 & d0\\
\hline
\end{tabular}
& $<$TRK$>$ & \gls{Global System Track Status}.\\
\end{tabular}

\begin{tabular}{p{0.05\linewidth} p{0.91\linewidth}} 
d6 & 1 means this command station implements version 2 slot commands.\\
d3 & 1 means the programming track is busy.\\
d2 & 1 means this master implements Loconet version 1.1 capability,  0 means the master is a DT200.\\
d1 & 0 means the track is paused, broadcast an emergency stop.\\
d0 & 1 means the DCC packets are on in the command station and global power is up.\\
\end{tabular}

Byte 8:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & d5 & d4 & 0 & 0 & d1 & d0\\
\hline
\end{tabular}
& $<$CVH$>$ & Configuration Variable number high 3 bits and most significant bit of data byte.\\
\end{tabular}

\begin{tabular}{l l}
d5 & CV9\\
d4 & CV8\\
d1 & DATA7\\
d0 & CV7\\
\end{tabular}

Byte 9:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$CVH$>$ & Configuration Variable number low 7 bits. CV1 is 0x0000, CV2 is 0x0001 etc.\\
\end{tabular}

Byte 10:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$DATA$>$ & Data value low 7 bits.\\
\end{tabular}

Byte 11:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$SNL$>$ & Throttle ID low 7 bits of low byte.\\
\end{tabular}

Byte 12:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$SNH$>$ & Throttle ID low 7 bits of high byte.\\
\end{tabular}

Byte 13:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 1 & 1 & 1 & 1 & 1 & 1 & 0\\
\hline
\end{tabular}
& 0x7E & Checksum.
\end{tabular}

\underline{Response:} 

None.

\underline{Signature:}

Byte 0:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
1 & 1 & 1 & 0 & 0 & 1 & 1 & 1\\
\hline
\end{tabular}
& 0xE7 & \\
\end{tabular}

Byte 1:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 0 & 0 & 1 & 1 & 1 & 0\\
\hline
\end{tabular}
& 0x0E & \\
\end{tabular}

Byte 2:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 1 & 1 & 1 & 1 & 1 & 0 & 0\\
\hline
\end{tabular}
& 0x7C & \\
\end{tabular}

Byte 4:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 0 & 0 & $\times$ & $\times$ & $\times$ & $\times$\\
\hline
\end{tabular}
&  & \\
\end{tabular}

Byte 7:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & $\times$ & 0 & 0 & $\times$ & $\times$ & $\times$ & $\times$\\
\hline
\end{tabular}
& \\
\end{tabular}

Byte 8:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & $\times$ & $\times$ & 0 & 0 & $\times$ & $\times$\\
\hline
\end{tabular}
& \\
\end{tabular}

\underline{Notes:} 

None.

\rule{15.1cm}{0.4pt}

