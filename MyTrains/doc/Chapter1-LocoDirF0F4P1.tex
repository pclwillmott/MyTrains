\newpage
\subsection{LocoDirF0F4P1}\index{LocoDirF0F4P1}\index{Direction}\index{Functions}

\underline{Description:}

This \gls{Command} requests the command station to set the locomotive's direction and function F0 to F4 states.

\underline{Protocol:}

1

\underline{Group:}

4-Byte Message

\underline{Opcode:}

OPC\_LOCO\_DIRF

\underline{Type:}

\gls{Command}

\underline{Encoding:} 

Byte 0:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
1 & 0 & 1 & 0 & 0 & 0 & 0 & 1\\
\hline
\end{tabular}
& 0xA1 & Opcode.\\
\end{tabular}

Byte 1:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$SLOT\#$>$ & Slot number in the range 0x00 to 0x77.\\
\end{tabular}

Byte 2:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & d5 & d4 & d3 & d2 & d1 & d0\\
\hline
\end{tabular}
& $<$DIRF$>$ & Locomotive's direction and state of functions F0 to F4.\\
& \\
\end{tabular}
\begin{tabular}{p{0.05\linewidth} p{0.95\linewidth}} 
d5 & Direction: 1 means forward and 0 means backwards.\\
d4 & F0 state: 1 means on and 0 means off.\\
d3 & F4 state: 1 means on and 0 means off.\\
d2 & F3 state: 1 means on and 0 means off.\\
d1 & F2 state: 1 means on and 0 means off.\\
d0 & F1 state: 1 means on and 0 means off.\\
\end{tabular}

Byte 3:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$CHK$>$ & Checksum.\\
\end{tabular}

\underline{Response:} 

None.

\underline{Signature:}

Byte 0:

\begin{tabular}{p{0.4\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
1 & 0 & 1 & 0 & 0 & 0 & 0 & 1\\
\hline
\end{tabular}
& 0xA1 \\
\end{tabular}

Byte 1:

\begin{tabular}{p{0.4\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& less than 0x78\\
\end{tabular}

Byte 2:

\begin{tabular}{p{0.4\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & $\times$ & $\times$ & $\times$ & $\times$ & $\times$ & $\times$\\
\hline
\end{tabular}
&  \\
& \\
\end{tabular}

\underline{Notes:} 

None.

\rule{15.1cm}{0.4pt}
