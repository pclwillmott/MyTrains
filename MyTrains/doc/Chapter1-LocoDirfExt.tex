\newpage
\subsection{OPC\_LOCO\_DIRF\_EXT}
\underline{Operation:} Set locomotive direction and function F0 to F28 states for extended slots.

\underline{Group:} \hspace{0.5cm} 6-Byte Message

\underline{Direction:} \hspace{0.05cm} $\rightarrow$ Command Station

\underline{Encoding:} 

Byte 0:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
1 & 1 & 0 & 1 & 0 & 1 & 0 & 0\\
\hline
\end{tabular}
& 0xD4 & Opcode.\\
\end{tabular}

Byte 1:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 1 & 0 & 0 & d2 & d1 & d0\\
\hline
\end{tabular}
& 0x2$<$SLOTP$>$ & Bits d2 to d0 contain the extended slot page number in the range 0x0 to 0x7.\\
\end{tabular}

Byte 2:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$SLOT\#$>$ & Extended slot number.\\
\end{tabular}

Byte 3:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & 0 & 0 & 0 & 0 & 1 & 0 & 0\\
\hline
\end{tabular}
& $<$SUBC$>$ & Subcode.\\
\end{tabular}

Byte 4:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & d6 & d5 & d4 & d3 & d2 & d1 & d0\\
\hline
\end{tabular}
& $<$DIRFX$>$ & Direction and function sates.\\
\end{tabular}

\begin{tabular}{p{0.1\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth} p{0.05\linewidth}} 
\underline{SUBC} & \underline{d6} & \underline{d5} & \underline{d4} & \underline{d3} & \underline{d2} & \underline{d1} & \underline{d0} \\ 
0x05 & 0 & 0 & 0 & 0 & F28 & F20 & F12\\
0x06 & 0 & DIR & F0 & F4 & F3 & F2 & F1\\ 
0x07 & F11 & F10 & F9 & F8 & F7 & F6 & F5\\
0x08 & F19 & F18 & F17 & F16 & F15 & F14 & F13\\
0x09 & F27 & F26 & F25 & F24 & F23 & F22 & F21\\
\end{tabular}

For the direction bit (DIR) 1 means forwards and 0 means backwards. For the function bits 1 means on and 0 means off.

Byte 5:

\begin{tabular}{p{0.4\linewidth} p{0.15\linewidth} p{0.38\linewidth}} 

\begin{tabular}{|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
\hline
0 & n & n & n & n & n & n & n\\
\hline
\end{tabular}
& $<$CHK$>$ & Checksum.
\end{tabular}

\underline{Description:}

This function sets the locomotive's direction and function F0 to F28 states.

\underline{Response:} 

None.

\underline{Notes:} 

None.

\rule{15.1cm}{0.4pt}
